# Software Verification Plan
# OsteoAge - 골연령 분석 시스템

**문서 버전:** 1.0
**작성일:** 2025-01-15
**준거 규격:** IEC 62304 Section 5.5, 5.6, 5.7

---

## 1. 서론

### 1.1 목적
본 문서는 OsteoAge 소프트웨어의 검증(Verification) 활동을 정의합니다.
검증은 "제품이 명세된 요구사항을 충족하는가?"를 확인하는 과정입니다.

### 1.2 범위
- 소프트웨어 요구사항 검증
- 소프트웨어 설계 검증
- 소프트웨어 유닛 검증
- 소프트웨어 통합 검증

### 1.3 참조 문서
- SRS.md (Software Requirements Specification)
- risk-analysis.md (Risk Analysis)

---

## 2. 검증 전략

### 2.1 검증 방법
- **코드 리뷰 (Code Review)**: 설계 검증, 코딩 표준 준수
- **정적 분석 (Static Analysis)**: ESLint, TypeScript 타입 체크
- **단위 테스트 (Unit Testing)**: 개별 함수/컴포넌트 테스트
- **통합 테스트 (Integration Testing)**: 컴포넌트 간 상호작용 테스트
- **시스템 테스트 (System Testing)**: 전체 시나리오 테스트

### 2.2 검증 도구
- TypeScript Compiler: 타입 안전성
- ESLint: 코드 품질
- Jest/React Testing Library: 단위 테스트 (계획)
- Manual Testing: 수동 테스트

### 2.3 검증 환경
- 개발 환경: macOS, Next.js 15
- 테스트 브라우저: Chrome, Safari, Edge

---

## 3. 검증 항목

### 3.1 기능 검증

#### TC-001: 사용자 인증 (FR-001)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-001-1 | 의사 로그인 성공 | doctor@test.com / 1234 | /doctor 리다이렉트 | RSK-001 |
| TC-001-2 | 관리자 로그인 성공 | admin@test.com / 1234 | /admin/users 리다이렉트 | RSK-001 |
| TC-001-3 | 잘못된 비밀번호 | doctor@test.com / wrong | 로그인 실패 메시지 | RSK-001 |
| TC-001-4 | 로그아웃 | 로그아웃 버튼 클릭 | /login 리다이렉트 | RSK-001 |

#### TC-002: 환자 정보 표시 (FR-002)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-002-1 | 환자 기본 정보 표시 | mockPatient 데이터 | 헤더에 환자 정보 표시 | RSK-003 |
| TC-002-2 | 환자 ID 형식 | - | HY1008_2024090645_MT 형식 | RSK-003 |

#### TC-003: 골연령 입력 (FR-003)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-003-1 | 골연령 연 선택 | 1-18 범위 | 드롭다운에서 선택 가능 | RSK-004 |
| TC-003-2 | 골연령 월 선택 | 0-11 범위 | 드롭다운에서 선택 가능 | RSK-004 |
| TC-003-3 | X-ray 이미지 표시 | xraysample.jpeg | 이미지 정상 표시 | RSK-006 |

#### TC-004: 성장 예측 계산 (FR-004)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-004-1 | 기본 예측 | 현재키 138, 골연령 11.67 | 예측키 계산 정확성 | RSK-005 |
| TC-004-2 | 현재키 > 예측키 | 현재키 180, 골연령 16 | 예측키 ≥ 현재키 | RSK-005 |
| TC-004-3 | 슬라이더 입력 | 100-220cm 범위 | 슬라이더 정상 작동 | RSK-004 |
| TC-004-4 | 백분위 표시 | - | 0-100 범위 백분위 | RSK-006 |

**예측 알고리즘 검증:**
```
공식 검증:
- remainingYears = max(0, 18 - boneAge)
- yearlyGrowth = boneAge < 12 ? 5 : boneAge < 14 ? 4 : boneAge < 16 ? 2.5 : 1
- basePredict = currentHeight + (remainingYears * yearlyGrowth)
- geneticWeight = (geneticHeight - 168) * 0.15
- growthWeight = (growthCurveHeight - 166) * 0.1
- finalPredict = basePredict + geneticWeight + growthWeight
- 결과 = max(currentHeight, finalPredict)
```

#### TC-005: 성장 차트 (FR-005)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-005-1 | 차트 렌더링 | 차트 탭 클릭 | SVG 차트 표시 | RSK-006 |
| TC-005-2 | 백분위 곡선 | - | 3%, 50%, 97% 곡선 표시 | RSK-006 |
| TC-005-3 | 과거 기록 점 | historyData | 회색 점들 표시 | RSK-006 |
| TC-005-4 | 현재/골연령/예측 점 | - | 파란/주황/녹색 점 표시 | RSK-006 |
| TC-005-5 | 그리드 라인 | - | 세밀한 그리드 표시 | RSK-006 |

#### TC-006: 리포트 생성 (FR-006)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-006-1 | 리포트 페이지 이동 | Report 버튼 클릭 | /doctor/report 이동 | RSK-007 |
| TC-006-2 | 데이터 전달 | sessionStorage | 분석 데이터 정상 전달 | RSK-007 |
| TC-006-3 | 리포트 레이아웃 | - | A4 형식 표시 | RSK-007 |

#### TC-007: 관리자 기능 (FR-007)
**테스트 케이스:**
| ID | 설명 | 입력 | 예상 결과 | 관련 위험 |
|----|------|------|-----------|----------|
| TC-007-1 | 회원 관리 페이지 | /admin/users | 사용자 목록 표시 | RSK-002 |
| TC-007-2 | 사용 현황 | /admin/analytics | 통계 차트 표시 | - |
| TC-007-3 | 분석 로그 | /admin/logs | 로그 테이블 표시 | - |
| TC-007-4 | 시스템 설정 | /admin/settings | 설정 페이지 표시 | RSK-002 |

### 3.2 비기능 검증

#### TC-NF-001: 성능 (NFR-001)
| ID | 설명 | 측정 방법 | 목표 |
|----|------|-----------|------|
| TC-NF-001-1 | 페이지 로딩 | Chrome DevTools | < 3초 |
| TC-NF-001-2 | 예측 계산 | useMemo 최적화 | < 1초 |

#### TC-NF-002: 보안 (NFR-002)
| ID | 설명 | 측정 방법 | 목표 |
|----|------|-----------|------|
| TC-NF-002-1 | 인증 확인 | 수동 테스트 | 미인증 시 리다이렉트 |
| TC-NF-002-2 | 역할 제한 | 수동 테스트 | 권한 없는 페이지 접근 차단 |

#### TC-NF-003: 사용성 (NFR-003)
| ID | 설명 | 측정 방법 | 목표 |
|----|------|-----------|------|
| TC-NF-003-1 | UI 일관성 | 시각적 검토 | 다크 테마 일관성 |
| TC-NF-003-2 | 버튼 커서 | 수동 테스트 | 모든 버튼 pointer |

#### TC-NF-004: 호환성 (NFR-004)
| ID | 설명 | 측정 방법 | 목표 |
|----|------|-----------|------|
| TC-NF-004-1 | Chrome | 수동 테스트 | 정상 작동 |
| TC-NF-004-2 | Safari | 수동 테스트 | 정상 작동 |
| TC-NF-004-3 | Edge | 수동 테스트 | 정상 작동 |

---

## 4. 검증 일정

| 단계 | 활동 | 기간 | 담당자 |
|------|------|------|--------|
| 1 | 코드 리뷰 | 개발 중 지속 | 개발자 |
| 2 | 정적 분석 | 개발 중 지속 | TypeScript/ESLint |
| 3 | 수동 테스트 | 2025-01-15 ~ 01-17 | 개발자 |
| 4 | 검증 보고서 작성 | 2025-01-18 | 개발자 |

---

## 5. 합격 기준

### 5.1 필수 기준
- 모든 높은 우선순위 요구사항 충족
- 위험 RSK-001 ~ RSK-005 관련 테스트 통과
- 예측 알고리즘 정확성 검증

### 5.2 권장 기준
- 모든 테스트 케이스 85% 이상 통과
- 성능 목표 충족

---

## 6. 검증 보고

모든 검증 결과는 `verification-report.md`에 기록됩니다.

---

## 7. 문서 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 개발자 | | | 2025-01-15 |
| 검증 담당자 | | | |
| 승인자 | | | |

---

**문서 이력**

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-01-15 | 초안 작성 | |
