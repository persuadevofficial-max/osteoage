# Risk Analysis
# OsteoAge - 골연령 분석 시스템

**문서 버전:** 1.0
**작성일:** 2025-12-17
**준거 규격:** ISO 14971 (Medical devices - Application of risk management to medical devices)

---

## 1. 서론

### 1.1 목적
본 문서는 OsteoAge 시스템의 위험 분석 및 관리 방안을 기술합니다.

### 1.2 범위
소프트웨어 관련 위험 식별, 평가, 완화 조치

### 1.3 위험 평가 기준

**심각도 (Severity)**
- 5: 치명적 (Critical) - 생명 위협
- 4: 심각 (Serious) - 영구적 손상
- 3: 중간 (Moderate) - 일시적 손상
- 2: 경미 (Minor) - 불편함
- 1: 무시 (Negligible) - 영향 없음

**발생 가능성 (Probability)**
- 5: 매우 높음 (>10%)
- 4: 높음 (1-10%)
- 3: 중간 (0.1-1%)
- 2: 낮음 (0.01-0.1%)
- 1: 매우 낮음 (<0.01%)

**위험 수준 (Risk Level) = 심각도 × 발생 가능성**
- 20-25: 수용 불가 (Unacceptable)
- 10-19: 높음 (High) - 즉시 조치 필요
- 5-9: 중간 (Medium) - 완화 조치 권장
- 1-4: 낮음 (Low) - 모니터링

---

## 2. 위험 목록

### RSK-001: 무단 접근
**위험 설명:** 인증되지 않은 사용자가 환자 데이터에 접근
**원인:** 약한 인증 메커니즘, 세션 관리 오류
**영향:** 환자 개인정보 유출

| 항목 | 값 |
|------|-----|
| 심각도 | 4 (심각) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 8 (중간) |
| 완화 조치 | - 안전한 인증 구현<br>- 세션 타임아웃 30분<br>- 역할 기반 접근 제어 |
| 잔여 위험 수준 | 4 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-002: 권한 상승 공격
**위험 설명:** 일반 사용자가 관리자 권한 획득
**원인:** 권한 검증 로직 오류
**영향:** 시스템 무결성 손상

| 항목 | 값 |
|------|-----|
| 심각도 | 3 (중간) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 6 (중간) |
| 완화 조치 | - 서버측 권한 검증<br>- 역할 기반 라우팅<br>- 정기 보안 감사 |
| 잔여 위험 수준 | 3 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-003: 환자 데이터 손실
**위험 설명:** 환자 정보 또는 분석 결과 손실
**원인:** 시스템 오류, 저장소 장애
**영향:** 재분석 필요, 의료 연속성 손상

| 항목 | 값 |
|------|-----|
| 심각도 | 3 (중간) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 6 (중간) |
| 완화 조치 | - 자동 백업 시스템<br>- 데이터 검증<br>- 에러 처리 및 로깅 |
| 잔여 위험 수준 | 2 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-004: 골연령 입력 오류
**위험 설명:** 의사가 잘못된 골연령을 입력
**원인:** UI 혼동, 입력 실수
**영향:** 잘못된 예측 결과 제공

| 항목 | 값 |
|------|-----|
| 심각도 | 3 (중간) |
| 발생 가능성 | 3 (중간) |
| 초기 위험 수준 | 9 (중간) |
| 완화 조치 | - 입력 범위 제한 (1-18세)<br>- 명확한 UI 라벨링<br>- 확인 메시지<br>- 수정 기능 제공 |
| 잔여 위험 수준 | 4 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-005: 예측 알고리즘 오류
**위험 설명:** 성인 예측 키 계산 오류
**원인:** 알고리즘 버그, 경계값 처리 오류
**영향:** 부정확한 진단 보조 정보 제공

| 항목 | 값 |
|------|-----|
| 심각도 | 3 (중간) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 6 (중간) |
| 완화 조치 | - 단위 테스트<br>- 경계값 테스트<br>- 알고리즘 검증<br>- 결과 합리성 체크 |
| 잔여 위험 수준 | 2 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-006: 차트 오표시
**위험 설명:** 성장 차트가 잘못 표시됨
**원인:** 렌더링 오류, 데이터 매핑 오류
**영향:** 의료진의 오해, 잘못된 판단

| 항목 | 값 |
|------|-----|
| 심각도 | 2 (경미) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 4 (낮음) |
| 완화 조치 | - 시각적 테스트<br>- 수치 데이터 병행 표시<br>- 브라우저 호환성 테스트 |
| 잔여 위험 수준 | 2 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-007: 리포트 출력 오류
**위험 설명:** PDF/인쇄 리포트에 정보 누락 또는 오류
**원인:** 포맷팅 오류, 브라우저 호환성
**영향:** 불완전한 의료 기록

| 항목 | 값 |
|------|-----|
| 심각도 | 2 (경미) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 4 (낮음) |
| 완화 조치 | - 인쇄 프리뷰 기능<br>- 다양한 환경 테스트<br>- 데이터 무결성 검증 |
| 잔여 위험 수준 | 2 (낮음) |
| 상태 | 수용 가능 |

---

### RSK-008: 시스템 성능 저하
**위험 설명:** 느린 응답 시간으로 진료 지연
**원인:** 과부하, 비효율적 코드
**영향:** 사용자 불편, 진료 흐름 방해

| 항목 | 값 |
|------|-----|
| 심각도 | 2 (경미) |
| 발생 가능성 | 2 (낮음) |
| 초기 위험 수준 | 4 (낮음) |
| 완화 조치 | - 성능 최적화<br>- 로딩 인디케이터<br>- 부하 테스트 |
| 잔여 위험 수준 | 2 (낮음) |
| 상태 | 수용 가능 |

---

## 3. 위험 매트릭스

|  | 발생가능성 1 | 2 | 3 | 4 | 5 |
|---|---|---|---|---|---|
| **심각도 5** | 5 | 10 | 15 | 20 | 25 |
| **4** | 4 | 8 (RSK-001) | 12 | 16 | 20 |
| **3** | 3 | 6 (RSK-002,003,005) | 9 (RSK-004) | 12 | 15 |
| **2** | 2 | 4 (RSK-006,007,008) | 6 | 8 | 10 |
| **1** | 1 | 2 | 3 | 4 | 5 |

---

## 4. 완화 조치 구현 상태

| 위험 ID | 조치 | 구현 위치 | 상태 |
|---------|------|-----------|------|
| RSK-001 | 인증 시스템 | `/src/stores/auth.ts` | ✓ 완료 |
| RSK-001 | 세션 타임아웃 | `localStorage` 관리 | ✓ 완료 |
| RSK-002 | 역할 기반 라우팅 | `(dashboard)/layout.tsx` | ✓ 완료 |
| RSK-004 | 입력 범위 제한 | `doctor/page.tsx` 골연령 select | ✓ 완료 |
| RSK-005 | 예측 알고리즘 | `doctor/page.tsx` useMemo | ✓ 완료 |
| RSK-005 | 경계값 체크 | `Math.max(currentHeight, finalPredict)` | ✓ 완료 |
| RSK-006 | 차트 렌더링 | `GrowthChart` 컴포넌트 | ✓ 완료 |

---

## 5. 잔여 위험 평가

모든 식별된 위험의 잔여 위험 수준이 4 이하로 **수용 가능한 범위**입니다.

---

## 6. 사후 시장 감시

### 6.1 모니터링 항목
- 사용자 오류 보고
- 시스템 에러 로그
- 성능 메트릭

### 6.2 검토 주기
- 정기 검토: 6개월
- 중대 사건 발생 시: 즉시

---

## 7. 문서 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 위험 관리자 | | | 2025-12-17 |
| 개발자 | | | 2025-12-17 |
| 승인자 | | | |

---

**문서 이력**

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-12-17 | 초안 작성 | |
